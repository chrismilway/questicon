(function(e){function t(t){for(var a,s,i=t[0],o=t[1],l=t[2],p=0,d=[];p<i.length;p++)s=i[p],u[s]&&d.push(u[s][0]),u[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);c&&c(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==u[o]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},u={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1787:function(e,t,n){"use strict";var a=n("e3a1"),u=n.n(a);u.a},"19b5":function(e,t,n){"use strict";var a=n("572b"),u=n.n(a);u.a},"2fac":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),u=n("27d6"),r=n.n(u),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[e.quest?e._e():n("app-menu"),e.quest?n("app-game"):e._e()],1)},i=[],o=n("cebc"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"app-menu"},e._l(e.quests,function(t){return n("li",{key:t.id,class:["app-menu__quest","app-menu__quest--"+t.theme.dark+" ? 'dark' : 'light'"],style:{background:t.theme.color}},[n("button",{staticClass:"app-menu__button",attrs:{type:"button"},on:{click:function(n){return e.selectQuest(t.id)}}},[e._v(e._s(t.name))]),n("app-expander",[t.id===e.qid?n("ul",{staticClass:"app-menu__games-list"},[e._l(t.games,function(t){return n("li",{key:t.id,staticClass:"app-menu__game"},[n("button",{staticClass:"app-menu__button",attrs:{type:"button"},on:{click:function(n){return e.selectGame(t.id)}}},[e._v(e._s(t.player.name||"Unstarted"))])])}),n("li",{staticClass:"app-menu__game app-menu__game--new"},[n("button",{staticClass:"app-menu__button",attrs:{type:"button"},on:{click:e.newGame}},[e._v("New game")])])],2):e._e()])],1)}),0)},c=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"expand"},on:{enter:e.enter,"after-enter":e.afterEnter,leave:e.leave}},[e._t("default")],2)},d=[],f={name:"app-expander",methods:{enter:function(e){var t=getComputedStyle(e).width;e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";var n=getComputedStyle(e).height;e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,setTimeout(function(){e.style.height=n})},afterEnter:function(e){e.style.height="auto"},leave:function(e){var t=getComputedStyle(e).height;e.style.height=t,getComputedStyle(e).height,setTimeout(function(){e.style.height=0})}}},m=f,h=(n("1787"),n("2877")),b=Object(h["a"])(m,p,d,!1,null,"2a8fca7e",null),g=b.exports,v=n("2f62"),y={name:"app-menu",components:{AppExpander:g},data:function(){return{qid:null}},computed:Object(o["a"])({},Object(v["b"])(["quests"])),methods:{selectQuest:function(e){var t=this.qid===e?null:e;this.qid=t},selectGame:function(e){var t=this.qid;this.$store.dispatch("loadQuest",{qid:t,gid:e})},newGame:function(){var e=this.qid;this.$store.dispatch("newQuest",e)}}},_=y,q=(n("600c"),Object(h["a"])(_,l,c,!1,null,null,null)),O=q.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-header")},w=[],k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["app-header","app-header--"+(e.data.theme.dark?"dark":"light")],style:{background:e.data.theme.color}},[e._v("\n\t"+e._s(e.data.name)+"\n")])},x=[],C={name:"app-header",computed:Object(o["a"])({},Object(v["b"])({data:"questMeta"}))},Q=C,S=(n("19b5"),Object(h["a"])(Q,k,x,!1,null,null,null)),M=S.exports,E={name:"app-game",components:{AppHeader:M},computed:Object(o["a"])({},Object(v["b"])(["quest"]))},$=E,P=Object(h["a"])($,j,w,!1,null,null,null),A=P.exports,G={name:"app",components:{AppMenu:O,AppGame:A},computed:Object(o["a"])({},Object(v["b"])(["quest"]))},T=G,B=(n("5c0b"),Object(h["a"])(T,s,i,!1,null,null,null)),F=B.exports,J=n("5176"),N=n.n(J),H=(n("7514"),n("a8db")),U=(n("7f7f"),n("768b")),z=n("2d1f"),D=n.n(z),I=n("0e44"),K=n("75fc"),L=n("a4bb"),R=n.n(L),V=n("2410"),W=n.n(V);function X(e){var t=R()(e);return t.length?Math.max.apply(Math,Object(K["a"])(t.map(function(e){return+e})))+1:1}function Y(e,t){var n=W()(e);return n.qid=t,n.node=0,n.player={name:null,stats:{},money:0,items:[]},n.status="active",n}a["a"].use(v["a"]);var Z=new v["a"].Store({state:{quests:{foo:{name:"Foo quest",original:{nodes:[]},games:{},theme:{color:"#F44336",dark:!0}},bar:{name:"Bar adventure",original:{nodes:[]},games:{},theme:{color:"#9C27B0",dark:!0}}},quest:null},getters:{quests:function(e){return D()(e.quests).map(function(e){var t=Object(U["a"])(e,2),n=t[0],a=t[1],u=a.name,r=a.games,s=a.theme;return{id:n,name:u,theme:s,games:D()(r).map(function(e){var t=Object(U["a"])(e,2),n=t[0],a=t[1].player;return{id:n,player:a}})}})},quest:function(e){return e.quest},questMeta:function(e,t){var n=t.quest.qid,a=e.quests[n],u=(a.original,a.games,Object(H["a"])(a,["original","games"]));return u},player:function(e){return e.quest.player},node:function(e){return e.quest.nodes.find(function(t){return t.id===e.quest.node||0})}},mutations:{move:function(e,t){e.quest.node=t},updateNode:function(e,t){N()(Z.getters.node,t)},updatePlayer:function(e,t){N()(Z.getters.player,t)},newQuest:function(e,t){var n=t.qid,a=t.gid,u=e.quests[n],r=u.games,s=u.original,i=Y(s,n);r[a]=i},loadQuest:function(e,t){var n=t.qid,a=t.gid;e.quest=e.quests[n].games[a]}},actions:{newQuest:function(e,t){var n=e.commit,a=e.state,u=a.quests[t].games,r=X(u);n("newQuest",{qid:t,gid:r}),n("loadQuest",{qid:t,gid:r})},loadQuest:function(e,t){var n=e.commit;n("loadQuest",t)}},plugins:[Object(I["a"])({key:"questicon",paths:["quests"]})]}),ee=Z;a["a"].config.productionTip=!1,r.a.load({google:{families:["Aleo:400,400i,700"]}}),new a["a"]({render:function(e){return e(F)},store:ee}).$mount("#app")},"572b":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var a=n("8fba"),u=n.n(a);u.a},"600c":function(e,t,n){"use strict";var a=n("2fac"),u=n.n(a);u.a},"8fba":function(e,t,n){},e3a1:function(e,t,n){}});
//# sourceMappingURL=app.700bb696.js.map